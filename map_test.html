<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>map_test</title>
	<style type="text/css">
		#mapid { 
			height: 40rem;
			max-width: 110rem;
			margin-right: 20%% 
		}
	</style>
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
   integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/>
   <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
   integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
   crossorigin=""></script>

   <script
  src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>
</head>
<body>
	
	<input type="text" name="res_in" id="res_in">
	<button onclick="loaddata()">test</button>
   	<!-- map -->
   	<div id="mapid"></div>

	<script type="text/javascript">
		var resturant = {
				res_name:"輔仁大學",
				discript:"大學",
				lat:"25.03931",
				lon:"121.43291"
			}

		function loaddata(){
			const words = document.getElementById("res_in").value;
			if (words == "123") {
				resturant.res_name = "永和豆漿";
				resturant.discript = "不好吃";
				resturant.lat = "25.03234";
				resturant.lon = "121.43301";

				$( "#mapid" ).load("#mapid" );
			}
			else {
				return window.alert(words);
			}
		}


		//map data
		var mymap = L.map('mapid').setView([resturant.lat, resturant.lon], 16);
		var marker = L.marker([resturant.lat, resturant.lon]).addTo(mymap);

		var title_address = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'
		var attribution = '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'

		var Popup = '<b>' + resturant.res_name + '</b><br/>' + resturant.discript;

		L.tileLayer(title_address, {
			maxZoom: 19,
			attribution: attribution,
		}).addTo(mymap);

		marker.bindPopup(Popup).openPopup();


	</script>
<!--mapbox://styles/sheep-of-block/ck4nses6e4otx1cmu3o4t2ry8-->
</html>